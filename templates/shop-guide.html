<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Language" content="ko">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tennisnow.life/shop-guide">
  <meta name="theme-color" content="#006644">

  <title>í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ ê°€ì´ë“œ - TennisNow</title>
  <meta name="description" content="ì „êµ­ í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµì„ ì§€ì—­ë³„ë¡œ í™•ì¸í•˜ì„¸ìš”. ìœ„ì¹˜, ì—°ë½ì²˜, ìš´ì˜ì‹œê°„ê¹Œì§€ TennisNowê°€ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.">
  <meta name="keywords" content="í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§, í…Œë‹ˆìŠ¤ ìƒµ, í…Œë‹ˆìŠ¤ ì¤„, í…Œë‹ˆìŠ¤ ê°€ê²Œ, í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ, í…Œë‹ˆìŠ¤ë‚˜ìš°, TennisNow, í…Œë‹ˆìŠ¤ ìš©í’ˆ">

  <meta property="og:title" content="ì „êµ­ í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ ì •ë³´ - TennisNow">
  <meta property="og:description" content="í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ ìœ„ì¹˜, ì—°ë½ì²˜, ìš´ì˜ì‹œê°„ê¹Œì§€ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.">
  <meta property="og:image" content="https://tennisnow.life/static/images/LOGO.png">
  <meta property="og:url" content="https://tennisnow.life/shop-guide">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="TennisNow">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ì „êµ­ í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ ì •ë³´ - TennisNow">
  <meta name="twitter:description" content="í…Œë‹ˆìŠ¤ ìŠ¤íŠ¸ë§ìƒµ ìœ„ì¹˜, ì—°ë½ì²˜, ìš´ì˜ì‹œê°„ê¹Œì§€ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.">
  <meta name="twitter:image" content="https://tennisnow.life/static/images/LOGO.png">

  <link rel="icon" href="{{ url_for('static', filename='images/fabicon/favicon.ico') }}">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7P26V15YCM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7P26V15YCM');
  </script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3868527445852624"
    crossorigin="anonymous"></script>


  <!-- Pretendard + Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/pretendard@1.3.6/dist/web/variable/pretendardvariable-dynamic-subset.css" rel="stylesheet">

  <!-- Leaflet CSS & JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  /* âœ… ê¸°ë³¸ ì„¤ì • */
      body {
        font-family: 'Pretendard Variable', sans-serif;
        min-height: 100vh;
        background-color: #ffffff;
        color: #006644;
      }
      body.grass-theme {
        background-color: #006644;
        color: #ffffff;
      }
    /* âœ… ë„¤ë¹„ê²Œì´ì…˜ */
    .main-navbar {
        background-color: #006644;
        padding: 0.5rem;
        font-family: 'Playfair Display', 'Georgia', serif;
        display: flex;
        justify-content: center;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    .nav-pill-wrapper {
        background-color: #006644;
        border-radius: 50px;
        padding: 0.2rem;
        display: flex;
        gap: 0.3rem;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
    .nav-pill-wrapper::-webkit-scrollbar { display: none; }
    .main-navbar .nav-link {
        font-family: 'Pretendard Variable', sans-serif;
        color: white;
        font-weight: 600;
        font-size: 0.75rem;
        padding: 0.25rem 0.65rem;
        border-radius: 50px;
        transition: all 0.25s ease-in-out;
        white-space: nowrap;
    }
    .main-navbar .nav-link.active {
        background-color: #ffffff;
        color: #006644;
        font-weight: 700;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border: none;
    }
    .main-navbar .nav-link.active:hover {
        color: #006644;
    }
    
    .logo {
    text-align: center;
    margin: 1rem 0;
    }
    .logo img {
    height: 20px;
    display: block;
    margin: 0 auto;
    }
    #shopCards {
      scroll-snap-type: none;       /* í•„ìš”ì—†ìŒ */
      overflow-x: hidden;           /* ì¢Œìš° ìŠ¤í¬ë¡¤ ì œê±° */
      overflow-y: auto;             /* âœ… ì„¸ë¡œ ìŠ¤í¬ë¡¤ */
      max-height: 200px;            /* âœ… ì›í•˜ëŠ” ë†’ì´ ì§€ì • */
      display: flex;
      flex-direction: column;       /* âœ… ì„¸ë¡œ ì¹´ë“œ ì •ë ¬ */
      gap: 0.1rem;
    }
    .shop-card {
      min-width: 260px;
      flex-shrink: 0;
      scroll-snap-align: start;
    }

    .shop-card.selected {
      background-color: #f3eaff !important;  /* ìœ”ë¸”ë˜ ì—°ë³´ë¼ */
      border: 1px solid #f5f5fb;
    }

    .custom-card {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      padding: 0.5rem;
      font-size: 0.7rem;
      transition: transform 0.2s;
    }
    .custom-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .card-title {
      font-size: 0.75rem;
      font-weight: 600;
      color: #222;
    }
    .card-subtext {
      font-size: 0.65rem;
      color: #777;
    }
    .card-tag {
      font-size: 0.7rem;
      font-weight: 500;
      color: white;
      background-color: #5C2E91;
      padding: 0.1rem 0.5rem;
      border-radius: 50px;
      margin-right: 0.3rem;
    }
    .leaflet-container {
      background: #e9f5ee !important;  /* ì—°ë…¹ìƒ‰ ë°°ê²½ */
    }

    .leaflet-pane,
    .leaflet-tile {
      image-rendering: auto;
      border: none !important;
    }
    #map {
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .search-bar {
      display: flex;
      flex-wrap: nowrap;  /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
      gap: 0.5rem;
    }

    #searchInput {
    height: 40px;
    font-size: 0.8rem;
    padding: 0.25rem 0.5rem;
    }

    #searchBtn {
      height: 36px;
      font-size :0.8rem;
      padding: 0 0.75rem;
      
    }
        /* âœ… í™•ëŒ€ ë°©ì§€ìš© */
    input, select, textarea {
      font-size: 16px !important;
    }
    .card-area-wrapper {
      max-height: 400px;
      overflow-y: auto;
      padding: 0.5rem;
    }


      /* âœ… ë°˜ì‘í˜• */
  @media (max-width: 768px) {
    .main-navbar .nav-link {
      font-size: 0.72rem;
      padding: 0.3rem 0.8rem;
    }
    .filter-btn {
      font-size: 0.75rem;
      padding: 0.4rem 0.85rem;
      min-width: 35px;
    }
    #map {
      height: 150px;
      margin-top: 1rem;
    }
    
    /* ì¹´ë“œ ì˜ì—­ ë†’ì´ ì¡°ì ˆ */
    .card-area-wrapper {
      max-height: 70vh;
      padding: 0.25rem;
    }
  }

  @media (min-width: 768px) {
    #map {
      height: 100%;
      min-height: 500px;
    }
  }

        
  </style>
</head>

<body>

<!-- logo ë° nav -->
<div class="logo" style="text-align: center; margin: 1rem 0;">
  <a href="/" id="logoLink">
    <img src="{{ url_for('static', filename='images/LOGO.png') }}" alt="Tennis Now Logo" style="height: 20px; display: block; margin: 0 auto;">
  </a>
</div>

<nav class="main-navbar shadow-sm">
  <div class="nav-pill-wrapper">
    <a class="nav-link {% if currentPath == 'tournament' %}active{% endif %}" href="/tournament">ì•„ë§ˆ ëŒ€íšŒ</a>
    <a class="nav-link {% if currentPath == 'tournament_pro' %}active{% endif %}" href="/tournament_pro">í”„ë¡œ ì†Œì‹</a>
    <a class="nav-link {% if currentPath == 'court' %}active{% endif %}" href="/court-guide">ì½”íŠ¸ ê°€ì´ë“œ</a>
    <a class="nav-link {% if currentPath == 'shop' %}active{% endif %}" href="/shop-guide">í…Œë‹ˆìŠ¤ ìƒµ</a>
    <a class="nav-link {% if currentPath == 'board' %}active{% endif %}" href="/board">í…Œë‚˜ë¬´ìˆ²</a>
  </div>
</nav>
  <div class="update-time-wrapper d-flex justify-content-center mb-2" style="background-color: #e5f4ec;">
    <div class="update-time-box text-muted small" style="font-size: 0.65rem;">
      â° Updated at 2025-05-13
    </div>
  </div>
  <!-- âœ¨ ì—¬ê¸°ë¶€í„° ë³¸ë¬¸ ì‘ì„± ì‹œì‘ -->
  <!-- ğŸ” ê²€ìƒ‰ì°½ -->
<div class="mt-2 mb-2 d-flex align-items-center ps-2">
    <input type="text" id="searchInput" class="form-control" placeholder="ì§€ì—­ ë˜ëŠ” ìƒí˜¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ê³ ì–‘, ì¼ì‚°)">
    <div class="d-flex justify-content-center" style="width: 100px;">
      <button id="searchBtn" class="btn btn-success btn-sm">search</button>
    </div>
  </div>
  
<div class="row g-3 px-3 px-md-4 flex-nowrap">
  <!-- ì§€ë„: ëª¨ë°”ì¼/PC ê³µí†µ ì™¼ìª½ -->
  <div class="col-6 col-md-6 px-1">
    <div id="map" style="width: 100%; height: 100%; min-height: 200px;"></div>
  </div>

  <!-- ì¹´ë“œ: ëª¨ë°”ì¼/PC ê³µí†µ ì˜¤ë¥¸ìª½ -->
  <div class="col-6 col-md-6 px-1">
    <div class="card-area-wrapper" style="max-height: 80vh; overflow-y: auto;">
      <div id="shopCards" class="d-flex flex-column gap-1"></div>
    </div>
  </div>
</div>



  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- âœ… í˜„ì¬ í˜ì´ì§€ navì— active í´ë˜ìŠ¤ ìë™ ì„¤ì • -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const path = window.location.pathname;
      document.querySelectorAll('.main-navbar .nav-link').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });

      // ë¡œê³  í´ë¦­ ì‹œ "/"ë©´ ë¹„í™œì„±í™”
      const link = document.getElementById("logoLink");
      if (window.location.pathname === "/") {
        link.style.pointerEvents = "none";
        link.style.cursor = "default";
      }
    });
  </script>
  <script>
    const fullDataRaw = {{ data | tojson | safe }};
    const fullData = Object.values(fullDataRaw).flat();  // ğŸ”¥ ë¦¬ìŠ¤íŠ¸ë¡œ í‰íƒ„í™”
    const map = L.map('map').setView([36.5, 127.5], 7);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: 'Â© OpenStreetMap'
    }).addTo(map);
  
    let markers = [];
  
    function renderShops(keyword) {
      const results = fullData.filter(shop =>
        shop['ì§€ë²ˆì£¼ì†Œ']?.includes(keyword) ||
        shop['ì£¼ì†Œ']?.includes(keyword) ||
        shop['ìƒí˜¸ëª…']?.includes(keyword)
      );

      const list = document.getElementById('shopCards');
      list.innerHTML = '';
      markers.forEach(m => map.removeLayer(m));
      markers = [];

      if (results.length === 0) {
        list.innerHTML = '<div class="text-muted ms-2">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
        return;
      }

      results.forEach((shop, i) => {
        const lat = parseFloat(shop.y);
        const lng = parseFloat(shop.x);
        if (!lat || !lng) return;

        const marker = L.marker([lat, lng]).addTo(map);
        marker.bindPopup(`<strong>${shop.ìƒí˜¸ëª…}</strong><br>${shop.ì§€ë²ˆì£¼ì†Œ}<br>${shop.ì „í™”ë²ˆí˜¸ || ''}`);

        marker.on("click", () => {
          const targetCard = document.querySelector(`.shop-card[data-id="${shop.ìƒí˜¸ëª…}"]`);
          if (targetCard) {
            document.querySelectorAll('.shop-card').forEach(c => c.classList.remove('selected'));
            targetCard.classList.add('selected');
            targetCard.scrollIntoView({ behavior: "smooth", block: "center" });
          }
        });

        const card = document.createElement('div');
        card.className = 'custom-card shop-card';
        card.setAttribute("data-id", shop.ìƒí˜¸ëª…);
        card.style.cursor = "pointer";

        card.innerHTML = `
          <div class="d-flex justify-content-between align-items-center mb-1">
            <div class="card-title">${shop["ìƒí˜¸ëª…"]}</div>
            <div class="text-muted" style="font-size: 0.7rem;">${i + 1} / ${results.length}</div>
          </div>
          <div class="card-subtext">${shop["ì§€ë²ˆì£¼ì†Œ"]}</div>
          ${shop["ì „í™”ë²ˆí˜¸"] ? `<div class="card-subtext">ğŸ“ ${shop["ì „í™”ë²ˆí˜¸"]}</div>` : ""}
          ${shop["ë¸”ë¡œê·¸"] ? `<div class="card-subtext">ğŸ“˜ <a href="${shop["ë¸”ë¡œê·¸"]}" target="_blank">${shop["ë¸”ë¡œê·¸"]}</a></div>` : ""}
          ${shop["ì¸ìŠ¤íƒ€ê·¸ë¨"] ? `<div class="card-subtext">ğŸ“· <a href="${shop["ì¸ìŠ¤íƒ€ê·¸ë¨"]}" target="_blank">${shop["ì¸ìŠ¤íƒ€ê·¸ë¨"]}</a></div>` : ""}
        `;

        card.onclick = () => {
          document.querySelectorAll('.shop-card').forEach(c => c.classList.remove('selected'));
          card.classList.add('selected');
          map.setView([lat, lng], 15);
          marker.openPopup();
        };

        list.appendChild(card);
      });

      if (results.length > 0) {
        map.setView([parseFloat(results[0].y), parseFloat(results[0].x)], 12);
        markers[0].openPopup();
      }
    }

  
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("searchBtn").addEventListener("click", () => {
        const keyword = document.getElementById("searchInput").value.trim();
        if (keyword) renderShops(keyword);
      });
      renderShops('');  // âœ… ê¸°ë³¸ ì „ì²´ ë Œë”ë§
    });

    document.getElementById("searchInput").addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        document.getElementById("searchBtn").click();
      }
    });
  </script>
</body>
</html>
