<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Language" content="ko">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tennisnow.life/shop-guide">
  <meta name="theme-color" content="#006644">

  <title>테니스 스트링샵 가이드 - TennisNow</title>
  <meta name="description" content="전국 테니스 스트링샵을 지역별로 확인하세요. 위치, 연락처, 운영시간까지 TennisNow가 정리했습니다.">
  <meta name="keywords" content="테니스 스트링, 테니스 샵, 테니스 줄, 테니스 가게, 테니스 스트링샵, 테니스나우, TennisNow, 테니스 용품">

  <meta property="og:title" content="전국 테니스 스트링샵 정보 - TennisNow">
  <meta property="og:description" content="테니스 스트링샵 위치, 연락처, 운영시간까지 한눈에 확인하세요.">
  <meta property="og:image" content="https://tennisnow.life/static/images/LOGO.png">
  <meta property="og:url" content="https://tennisnow.life/shop-guide">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="TennisNow">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="전국 테니스 스트링샵 정보 - TennisNow">
  <meta name="twitter:description" content="테니스 스트링샵 위치, 연락처, 운영시간까지 한눈에 확인하세요.">
  <meta name="twitter:image" content="https://tennisnow.life/static/images/LOGO.png">

  <link rel="icon" href="{{ url_for('static', filename='images/fabicon/favicon.ico') }}">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7P26V15YCM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7P26V15YCM');
  </script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3868527445852624"
    crossorigin="anonymous"></script>


  <!-- Pretendard + Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/pretendard@1.3.6/dist/web/variable/pretendardvariable-dynamic-subset.css" rel="stylesheet">

  <!-- Leaflet CSS & JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  /* ✅ 기본 설정 */
      body {
        font-family: 'Pretendard Variable', sans-serif;
        min-height: 100vh;
        background-color: #ffffff;
        color: #006644;
      }
      body.grass-theme {
        background-color: #006644;
        color: #ffffff;
      }
    /* ✅ 네비게이션 */
    .main-navbar {
        background-color: #006644;
        padding: 0.5rem;
        font-family: 'Playfair Display', 'Georgia', serif;
        display: flex;
        justify-content: center;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    .nav-pill-wrapper {
        background-color: #006644;
        border-radius: 50px;
        padding: 0.2rem;
        display: flex;
        gap: 0.3rem;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
    .nav-pill-wrapper::-webkit-scrollbar { display: none; }
    .main-navbar .nav-link {
        font-family: 'Pretendard Variable', sans-serif;
        color: white;
        font-weight: 600;
        font-size: 0.75rem;
        padding: 0.25rem 0.65rem;
        border-radius: 50px;
        transition: all 0.25s ease-in-out;
        white-space: nowrap;
    }
    .main-navbar .nav-link.active {
        background-color: #ffffff;
        color: #006644;
        font-weight: 700;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border: none;
    }
    .main-navbar .nav-link.active:hover {
        color: #006644;
    }
    
    .logo {
    text-align: center;
    margin: 1rem 0;
    }
    .logo img {
    height: 20px;
    display: block;
    margin: 0 auto;
    }
    #shopCards {
      scroll-snap-type: none;       /* 필요없음 */
      overflow-x: hidden;           /* 좌우 스크롤 제거 */
      overflow-y: auto;             /* ✅ 세로 스크롤 */
      max-height: 200px;            /* ✅ 원하는 높이 지정 */
      display: flex;
      flex-direction: column;       /* ✅ 세로 카드 정렬 */
      gap: 0.1rem;
    }
    .shop-card {
      min-width: 260px;
      flex-shrink: 0;
      scroll-snap-align: start;
    }

    .shop-card.selected {
      background-color: #f3eaff !important;  /* 윔블던 연보라 */
      border: 1px solid #f5f5fb;
    }

    .custom-card {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      padding: 0.5rem;
      font-size: 0.7rem;
      transition: transform 0.2s;
    }
    .custom-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .card-title {
      font-size: 0.75rem;
      font-weight: 600;
      color: #222;
    }
    .card-subtext {
      font-size: 0.65rem;
      color: #777;
    }
    .card-tag {
      font-size: 0.7rem;
      font-weight: 500;
      color: white;
      background-color: #5C2E91;
      padding: 0.1rem 0.5rem;
      border-radius: 50px;
      margin-right: 0.3rem;
    }
    .leaflet-container {
      background: #e9f5ee !important;  /* 연녹색 배경 */
    }

    .leaflet-pane,
    .leaflet-tile {
      image-rendering: auto;
      border: none !important;
    }
    #map {
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .search-bar {
      display: flex;
      flex-wrap: nowrap;  /* 줄바꿈 방지 */
      gap: 0.5rem;
    }

    #searchInput {
    height: 40px;
    font-size: 0.8rem;
    padding: 0.25rem 0.5rem;
    }

    #searchBtn {
      height: 36px;
      font-size :0.8rem;
      padding: 0 0.75rem;
      
    }
        /* ✅ 확대 방지용 */
    input, select, textarea {
      font-size: 16px !important;
    }
    .card-area-wrapper {
      max-height: 400px;
      overflow-y: auto;
      padding: 0.5rem;
    }


      /* ✅ 반응형 */
  @media (max-width: 768px) {
    .main-navbar .nav-link {
      font-size: 0.72rem;
      padding: 0.3rem 0.8rem;
    }
    .filter-btn {
      font-size: 0.75rem;
      padding: 0.4rem 0.85rem;
      min-width: 35px;
    }
    #map {
      height: 150px;
      margin-top: 1rem;
    }
    
    /* 카드 영역 높이 조절 */
    .card-area-wrapper {
      max-height: 70vh;
      padding: 0.25rem;
    }
  }

  @media (min-width: 768px) {
    #map {
      height: 100%;
      min-height: 500px;
    }
  }

        
  </style>
</head>

<body>

<!-- logo 및 nav -->
<div class="logo" style="text-align: center; margin: 1rem 0;">
  <a href="/" id="logoLink">
    <img src="{{ url_for('static', filename='images/LOGO.png') }}" alt="Tennis Now Logo" style="height: 20px; display: block; margin: 0 auto;">
  </a>
</div>

<nav class="main-navbar shadow-sm">
  <div class="nav-pill-wrapper">
    <a class="nav-link {% if currentPath == 'tournament' %}active{% endif %}" href="/tournament">아마 대회</a>
    <a class="nav-link {% if currentPath == 'tournament_pro' %}active{% endif %}" href="/tournament_pro">프로 소식</a>
    <a class="nav-link {% if currentPath == 'court' %}active{% endif %}" href="/court-guide">코트 가이드</a>
    <a class="nav-link {% if currentPath == 'shop' %}active{% endif %}" href="/shop-guide">테니스 샵</a>
    <a class="nav-link {% if currentPath == 'board' %}active{% endif %}" href="/board">테나무숲</a>
  </div>
</nav>
  <div class="update-time-wrapper d-flex justify-content-center mb-2" style="background-color: #e5f4ec;">
    <div class="update-time-box text-muted small" style="font-size: 0.65rem;">
      ⏰ Updated at 2025-05-13
    </div>
  </div>
  <!-- ✨ 여기부터 본문 작성 시작 -->
  <!-- 🔍 검색창 -->
<div class="mt-2 mb-2 d-flex align-items-center ps-2">
    <input type="text" id="searchInput" class="form-control" placeholder="지역 또는 상호명을 입력하세요 (예: 고양, 일산)">
    <div class="d-flex justify-content-center" style="width: 100px;">
      <button id="searchBtn" class="btn btn-success btn-sm">search</button>
    </div>
  </div>
  
<div class="row g-3 px-3 px-md-4 flex-nowrap">
  <!-- 지도: 모바일/PC 공통 왼쪽 -->
  <div class="col-6 col-md-6 px-1">
    <div id="map" style="width: 100%; height: 100%; min-height: 200px;"></div>
  </div>

  <!-- 카드: 모바일/PC 공통 오른쪽 -->
  <div class="col-6 col-md-6 px-1">
    <div class="card-area-wrapper" style="max-height: 80vh; overflow-y: auto;">
      <div id="shopCards" class="d-flex flex-column gap-1"></div>
    </div>
  </div>
</div>



  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ✅ 현재 페이지 nav에 active 클래스 자동 설정 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const path = window.location.pathname;
      document.querySelectorAll('.main-navbar .nav-link').forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });

      // 로고 클릭 시 "/"면 비활성화
      const link = document.getElementById("logoLink");
      if (window.location.pathname === "/") {
        link.style.pointerEvents = "none";
        link.style.cursor = "default";
      }
    });
  </script>
  <script>
    const fullDataRaw = {{ data | tojson | safe }};
    const fullData = Object.values(fullDataRaw).flat();  // 🔥 리스트로 평탄화
    const map = L.map('map').setView([36.5, 127.5], 7);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '© OpenStreetMap'
    }).addTo(map);
  
    let markers = [];
  
    function renderShops(keyword) {
      const results = fullData.filter(shop =>
        shop['지번주소']?.includes(keyword) ||
        shop['주소']?.includes(keyword) ||
        shop['상호명']?.includes(keyword)
      );

      const list = document.getElementById('shopCards');
      list.innerHTML = '';
      markers.forEach(m => map.removeLayer(m));
      markers = [];

      if (results.length === 0) {
        list.innerHTML = '<div class="text-muted ms-2">검색 결과가 없습니다.</div>';
        return;
      }

      results.forEach((shop, i) => {
        const lat = parseFloat(shop.y);
        const lng = parseFloat(shop.x);
        if (!lat || !lng) return;

        const marker = L.marker([lat, lng]).addTo(map);
        marker.bindPopup(`<strong>${shop.상호명}</strong><br>${shop.지번주소}<br>${shop.전화번호 || ''}`);

        marker.on("click", () => {
          const targetCard = document.querySelector(`.shop-card[data-id="${shop.상호명}"]`);
          if (targetCard) {
            document.querySelectorAll('.shop-card').forEach(c => c.classList.remove('selected'));
            targetCard.classList.add('selected');
            targetCard.scrollIntoView({ behavior: "smooth", block: "center" });
          }
        });

        const card = document.createElement('div');
        card.className = 'custom-card shop-card';
        card.setAttribute("data-id", shop.상호명);
        card.style.cursor = "pointer";

        card.innerHTML = `
          <div class="d-flex justify-content-between align-items-center mb-1">
            <div class="card-title">${shop["상호명"]}</div>
            <div class="text-muted" style="font-size: 0.7rem;">${i + 1} / ${results.length}</div>
          </div>
          <div class="card-subtext">${shop["지번주소"]}</div>
          ${shop["전화번호"] ? `<div class="card-subtext">📞 ${shop["전화번호"]}</div>` : ""}
          ${shop["블로그"] ? `<div class="card-subtext">📘 <a href="${shop["블로그"]}" target="_blank">${shop["블로그"]}</a></div>` : ""}
          ${shop["인스타그램"] ? `<div class="card-subtext">📷 <a href="${shop["인스타그램"]}" target="_blank">${shop["인스타그램"]}</a></div>` : ""}
        `;

        card.onclick = () => {
          document.querySelectorAll('.shop-card').forEach(c => c.classList.remove('selected'));
          card.classList.add('selected');
          map.setView([lat, lng], 15);
          marker.openPopup();
        };

        list.appendChild(card);
      });

      if (results.length > 0) {
        map.setView([parseFloat(results[0].y), parseFloat(results[0].x)], 12);
        markers[0].openPopup();
      }
    }

  
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("searchBtn").addEventListener("click", () => {
        const keyword = document.getElementById("searchInput").value.trim();
        if (keyword) renderShops(keyword);
      });
      renderShops('');  // ✅ 기본 전체 렌더링
    });

    document.getElementById("searchInput").addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        document.getElementById("searchBtn").click();
      }
    });
  </script>
</body>
</html>
